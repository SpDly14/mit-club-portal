<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIT Anna University - College Clubs Portal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h2>Admin Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="error-message" id="loginError"></div>
                <button type="submit" class="btn-primary" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 20px; font-size: 14px; color: #5a5a5a;">
                Need admin access? <a href="#" onclick="showSection('become-admin'); document.getElementById('loginModal').classList.remove('active');" style="color: #8b7355;">Apply here</a>
            </p>
        </div>
    </div>

    <header>
        <div class="logo">
            <div class="logo-circle">üéì</div>
            <div class="logo-text">MIT College Clubs</div>
        </div>
        <nav>
            <a href="#" class="nav-link active" onclick="showSection('home')">Home</a>
            <a href="#" class="nav-link" onclick="showSection('clubs')">Clubs</a>
            <a href="#" class="nav-link" onclick="showSection('events')">Events</a>
            <a href="#" class="nav-link" onclick="showSection('register')">Join Club</a>
            <a href="#" class="nav-link" onclick="showSection('become-admin')">Become Admin</a>
            <a href="#" class="nav-link admin-only" onclick="showSection('post-event')" style="display: none;">Post Event</a>
            <a href="#" class="nav-link admin-only" onclick="showSection('manage-requests')" style="display: none;">Manage Requests</a>
        </nav>
        <div class="user-section">
            <button id="loginBtn" class="btn-secondary" onclick="showLogin()">Admin Login</button>
            <div id="userInfo" style="display: none;">
                <span id="userEmail" style="margin-right: 15px; color: #8b7355;"></span>
                <span id="userRole" class="role-badge"></span>
                <button class="btn-secondary" onclick="logout()">Logout</button>
            </div>
        </div>
    </header>

    <!-- Home Section -->
    <div id="home" class="section active">
        <div class="hero">
            <div class="hero-content">
                <h1>Experience Global Connections and Unity</h1>
                <p>Join the MIT College Clubs and dive deeply into a vibrant and meaningful community of students. Here, a spark of a vision and thoughtful conversations transform into lasting friendships.</p>
                <button class="btn-primary" onclick="showSection('clubs')">Explore Clubs</button>
            </div>
        </div>

        <div style="padding: 80px 50px; max-width: 1400px; margin: 0 auto;">
            <h2 class="section-title">About Us</h2>
            <div class="about-section">
                <div class="about-logo">
                    <div class="about-logo-inner">üåç</div>
                </div>
                <div class="about-text">
                    <h3>Who we are</h3>
                    <p>The Madras Institute of Technology College Clubs Portal is a dynamic community dedicated to fostering inclusivity and building meaningful relationships among international and local students. Through diverse cultural experiences, we create opportunities for members to connect, grow, and thrive together.</p>
                    <p>Engaging events, workshops, and activities, the Clubs empower students diversity and create transformative opportunities for members to connect, grow, and thrive together.</p>
                </div>
            </div>

            <div class="quote-section">
                <blockquote>"Diversity is the one true thing we all have in common. Celebrate it every day with us."</blockquote>
            </div>

            <h2 class="section-title" style="margin-top: 60px;">Our Clubs</h2>
            <div class="clubs-grid" id="homeClubsPreview">
                <p style="text-align: center; color: #5a5a5a;">Loading clubs...</p>
            </div>
        </div>
    </div>

    <!-- All Clubs Section -->
    <div id="clubs" class="section">
        <h2 class="section-title">All Clubs</h2>
        <div class="clubs-grid" id="allClubsGrid">
            <p style="text-align: center; color: #5a5a5a;">Loading clubs...</p>
        </div>
    </div>

    <!-- Events Section -->
    <div id="events" class="section">
        <h2 class="section-title">Upcoming Events</h2>
        <div class="events-grid" id="eventsList">
            <p style="text-align: center; color: #5a5a5a;">Loading events...</p>
        </div>
    </div>

    <!-- Join Club Registration Section -->
    <div id="register" class="section">
        <h2 class="section-title">Register for a Club</h2>
        <div class="form-container">
            <div class="success-message" id="regSuccess">Registration successful! You'll be notified once approved.</div>
            <div class="error-message" id="regError"></div>
            
            <form id="registrationForm">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="studentName" required>
                </div>

                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="studentEmail" required>
                </div>

                <div class="form-group">
                    <label>Year of Study *</label>
                    <select id="studentYear" required>
                        <option value="">Select Year</option>
                        <option value="1">First Year</option>
                        <option value="2">Second Year</option>
                        <option value="3">Third Year</option>
                        <option value="4">Fourth Year</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Department *</label>
                    <input type="text" id="studentDept" placeholder="e.g., Computer Science" required>
                </div>

                <div class="form-group">
                    <label>Select Club *</label>
                    <select id="clubSelect" required>
                        <option value="">Select Club</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Why do you want to join?</label>
                    <textarea id="joinReason" placeholder="Tell us about your interest..."></textarea>
                </div>

                <button type="submit" class="btn-primary" style="width: 100%;">Submit Registration</button>
            </form>
        </div>
    </div>

    <!-- Become Admin Section -->
    <div id="become-admin" class="section">
        <h2 class="section-title">Apply for Admin Access</h2>
        <div class="form-container">
            <p style="text-align: center; margin-bottom: 30px; color: #5a5a5a; line-height: 1.6;">
                Want to help manage a club or events? Apply for admin access and a super admin will review your request.
            </p>
            
            <div class="success-message" id="adminRegSuccess">Application submitted! We'll review your request soon.</div>
            <div class="error-message" id="adminRegError"></div>
            
            <form id="adminRegistrationForm">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="adminName" required>
                </div>

                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="adminEmail" required>
                </div>

                <div class="form-group">
                    <label>Password *</label>
                    <input type="password" id="adminPassword" required minlength="6">
                    <small style="color: #5a5a5a;">Minimum 6 characters - you'll use this to login if approved</small>
                </div>

                <div class="form-group">
                    <label>Phone Number *</label>
                    <input type="tel" id="adminPhone" required>
                </div>

                <div class="form-group">
                    <label>Select Club to Manage *</label>
                    <select id="adminClub" required>
                        <option value="">Select Club</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Why do you want to be an admin? *</label>
                    <textarea id="adminReason" required placeholder="Tell us about your experience, commitment, and why you'd be a good admin..."></textarea>
                </div>

                <button type="submit" class="btn-primary" style="width: 100%;">Submit Application</button>
            </form>
        </div>
    </div>

    <!-- Post Event Section (Admin Only) -->
    <div id="post-event" class="section">
        <h2 class="section-title">Post New Event</h2>
        <div class="form-container">
            <div class="success-message" id="eventSuccess">Event posted successfully!</div>
            <div class="error-message" id="eventError"></div>
            
            <form id="eventForm">
                <div class="form-group">
                    <label>Event Title *</label>
                    <input type="text" id="eventTitle" required>
                </div>

                <div class="form-group" id="clubSelectGroup">
                    <label>Club *</label>
                    <select id="eventClub" required>
                        <option value="">Select Club</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Event Type *</label>
                    <select id="eventType" required>
                        <option value="">Select Type</option>
                        <option value="Workshop">Workshop</option>
                        <option value="Hackathon">Hackathon</option>
                        <option value="Seminar">Seminar</option>
                        <option value="Competition">Competition</option>
                        <option value="Session">Session</option>
                        <option value="Meetup">Meetup</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Date *</label>
                    <input type="date" id="eventDate" required>
                </div>

                <div class="form-group">
                    <label>Time *</label>
                    <input type="time" id="eventTime" required>
                </div>

                <div class="form-group">
                    <label>Venue *</label>
                    <input type="text" id="eventVenue" placeholder="e.g., Auditorium, Room 101" required>
                </div>

                <div class="form-group">
                    <label>Description *</label>
                    <textarea id="eventDesc" required></textarea>
                </div>

                <div class="form-group">
                    <label>Registration Link</label>
                    <input type="url" id="eventRegLink" placeholder="https://forms.google.com/...">
                </div>

                <button type="submit" class="btn-primary" style="width: 100%;">Post Event</button>
            </form>
        </div>
    </div>

    <!-- Manage Requests Section (Admin Only) -->
    <div id="manage-requests" class="section">
        <h2 class="section-title">Manage Requests</h2>
        
        <div style="max-width: 1200px; margin: 0 auto;">
            <!-- Admin Requests Tab -->
            <div class="tabs">
                <button class="tab-btn super-admin-only" onclick="switchTab('admin', this)">Admin Applications</button>
                <button class="tab-btn active" onclick="switchTab('club', this)">Club Join Requests</button>
            </div>

            <!-- Admin Requests -->
            <div id="adminRequestsTab" class="tab-content super-admin-only">
                <h3 style="margin: 30px 0 20px; color: #8b7355;">Pending Admin Applications</h3>
                <div id="adminRequestsList">
                    <p style="text-align: center; color: #5a5a5a; padding: 40px;">Loading requests...</p>
                </div>
            </div>

            <!-- Club Join Requests -->
            <div id="clubRequestsTab" class="tab-content active">
                <h3 style="margin: 30px 0 20px; color: #8b7355;">Pending Club Join Requests</h3>
                <div id="clubRequestsList">
                    <p style="text-align: center; color: #5a5a5a; padding: 40px;">Loading requests...</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Madras Institute of Technology, Anna University. All rights reserved.</p>
        <p>Building meaningful connections through diversity and unity.</p>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
</body>
</html>